#!/bin/bash
######################################################################
#
PACKAGE_NAME=""
PACKAGE_FILE=""
PACKAGE_DESC="General Network Configuration"
SBUS="0.0"

source D-LFS.functions

header

for NIC in /sys/class/net/* ; do
    INTERFACE=${NIC##*/} udevadm test --action=add $NIC &>> $BUILD_LOG
done

echo "Completed udevadm test." | tee -a $BUILD_LOG
echo -e '  If desired, review log for details. '



#Some of the following values set in D-LFS.config
#
echo "ONBOOT=$ONBOOT"          >   /etc/sysconfig/ifconfig.eth0
echo "IFACE=$IFACE"            >>  /etc/sysconfig/ifconfig.eth0
echo "SERVICE=$SERVICE"        >>  /etc/sysconfig/ifconfig.eth0
echo "IP=$IP"                  >>  /etc/sysconfig/ifconfig.eth0
echo "GATEWAY=$GATEWAY"        >>  /etc/sysconfig/ifconfig.eth0
echo "PREFIX=$PREFIX"          >>  /etc/sysconfig/ifconfig.eth0
echo "BROADCAST=$BROADCAST"    >>  /etc/sysconfig/ifconfig.eth0

echo 'Created  /etc/sysconfig/ifconfig.eth0 '  | tee -a $BUILD_LOG




echo "# Begin /etc/resolv.conf"    >  /etc/resolv.conf
echo "#domain <Your Domain Name>"  >> /etc/resolv.conf
echo "nameserver $NAMESERVER"      >> /etc/resolv.conf
echo "# End /etc/resolv.conf"      >> /etc/resolv.conf

echo 'Created  /etc/resolv.conf '  | tee -a $BUILD_LOG


footer
